name: CI-ps2idbms

on:
  push:
    paths:
      - '.github/workflows/wintools.yml'
      - 'PS2IDBMS/**'
  pull_request:

jobs:
  build-ps2idbms:
    name: PS2IDdbms compilation
    runs-on: windows-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Setup msbuild
        uses: microsoft/setup-msbuild@v2

      - name: Build
        run: |
          cd PS2IDBMS
          msbuild /p:Configuration=Release

      - uses: actions/upload-artifact@v4
        with:
          name: PS2IDBMS
          path: PS2IDBMS/Release/PS2IDBMS.exe
